<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    const promise1 = new Promise((resolve, reject) => {resolve('promise1成功')
    }); 
    console.log('测试promise1的状态',promise1);
    
    const promise2 = new Promise((resolve, reject) => { resolve('promise2成功')}); 
    const promise3 = new Promise((resolve, reject) => { resolve('promise3成功') }); 
    Promise.all([promise1, promise2, promise3]) .then(results => {
        console.log('测试all方法',results);
    })
    const promise4 = new Promise((resolve, reject) => {resolve('promise4成功')
    }); 
    console.log('测试promise4的状态',promise4);
    let promise = Promise.resolve(17468);
     promise.then(function(val) { console.log('测试promise.result',val); }); 
    function AIPromiseAll(promises) {
    return new Promise((resolve, reject) => {
    let results = [];
    let count = 0;
    for (const promise of promises) {
      promise.then((result) => {
        results[count] = result;
        count++;

        if (count === promises.length) {
          resolve(results);
        }
        }).catch((error) => {
        reject(error);
       });
    }
  });
}
    AIPromiseAll([promise1, promise2, promise3]).then((results)=>{
    console.log('测试AI手搓的all',results);
  
})
    function myPromiseAll(promiseArr){
           return new Promise((resolve,reject)=>{
            let length=promiseArr.length
            let resultsArr=[]
            // let count=0
            for(let promise of promiseArr){
                promise.then(results=>{
                    resultsArr.push(results)
                 if(resultsArr.length===length){
                    resolve(resultsArr)
                }
                }).catch((error) => {
        reject(error);
       });
               
            }
           })
    }   
    myPromiseAll([promise1, promise2, promise3]).then(result=>{
       console.log('测试我的手搓promiseAll',result);
    
    })

    function mypromiseRace(promises) {
       return new Promise((resolve, reject) => {
                for(let promise of promises){
                    promise.then(res=>{
                        resolve(res)
                    })
                }
              });
            }
    mypromiseRace([promise1, promise2, promise3]).then(results=>{
        console.log('测试ai的race方法',results);       
    })


    </script>
</body>
</html>